<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <title>Document</title>
</head>
<body>

<%- include('nav.html') %>

<h4 class="ml-2 mt-4"><strong>할일 상세보기</strong></h4>

<table class="table">
    <tbody>
        <tr>
            <th scope="row">날짜</th>
            <td>
                <input type="text" class="date form-control" value="<%= content.date %>" aria-label="date" aria-describedby="addon-wrapping">
            </td>
        </tr>
    </tbody>
    <tbody>
        <tr>
            <th scope="row">내용</th>
            <td>
                <input type="text" class="title form-control" value="<%= content.title %>" aria-label="title" aria-describedby="addon-wrapping">
            </td>
        </tr>
    </tbody>
</table>
<input type="hidden" class="_id form-control" value="<%= content._id %>" aria-label="_id" aria-describedby="addon-wrapping">

<button type="button" class="btn btn-light submit-btn" >확인</button>


<script src="https://code.jquery.com/jquery-3.4.1.js"></script>

<script>
    $('.submit-btn').click(function(e) {
        var _this = $(this);
        var date = $('.date').val();
        var title = $('.title').val();
        var _id = $('._id').val();
        $.ajax({
            method : 'PATCH',
            url : '/edit/' + _id,
            data : {
                _id : _id,
                date : date,
                title : title,
            }
        }).done(function(result) {
            console.log(result.href);
        }).fail(function(xhr, textStatus, errorThrown) {
            console.log(xhr, textStatus, errorThrown);
        });
    })
</script>

<!-- <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script> -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>
</html>